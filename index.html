<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Righteous&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/components/header-page.css" />
    <link rel="stylesheet" href="./css/components/card.css" />
    <link rel="stylesheet" href="./css/components/class-order.css" />
    <title>Driven Eats</title>
  </head>
  <body>
    <header class="header-page">
      <h1>DrivenEats</h1>
      <p>Sua comida em 6 minutos</p>
    </header>

    <main>
      <section class="main-course">
        <h2>Primeiro, seu prato</h2>
        <div class="options">
          <div class="card" onclick="handlingMainCourseClick(event)">
            <div class="card__img">
              <img src="./assets/images/prato-individual-file-mignon.jpg" />
            </div>
            <div class="card__title">Filé Mignon</div>
            <div class="card__description">
              Filé mignon ao molho madeira de cogumelos. Vem acompanhado com a
              salada tradicional.
            </div>
            <div class="card__price">R$ 69,90</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingMainCourseClick(event)">
            <div class="card__img">
              <img src="./assets/images/estrogonofe-de-carne.jpg" />
            </div>
            <div class="card__title">Estrogonofe de Carne</div>
            <div class="card__description">
              Maravilhoso estrogonofe de carne tradicional. Pode acompanhar
              champignor no molho (opcional). Vem acompanhado com uma porção de
              arroz e batata palha.
            </div>
            <div class="card__price">R$ 35,90</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingMainCourseClick(event)">
            <div class="card__img">
              <img src="./assets/images/paella-vegetariana.jpeg" />
            </div>
            <div class="card__title">Paella Vegetariana</div>
            <div class="card__description">
              Paella vegetariana feita com carinho pelo nosso autêntico chef
              espanhol. Possui o tradicional arroz com o
              <strong>verdadeiro</strong> açafrão e diversos legumes.
            </div>
            <div class="card__price">R$ 54,90</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingMainCourseClick(event)">
            <div class="card__img">
              <img src="./assets/images/cordeiro.jpg" />
            </div>
            <div class="card__title">Cordeiro</div>
            <div class="card__description">
              Carré de cordeiro assado ao molho madeira acompanhado do
              maravilhoso risoto de limão siciliano.
            </div>
            <div class="card__price">R$ 64,90</div>
            <img src="./assets/images/selected.svg" />
          </div>
        </div>
      </section>

      <section class="drink">
        <h2>Agora, sua bebida</h2>
        <div class="options">
          <div class="card" onclick="handlingDrinkClick(event)">
            <div class="card__img">
              <img src="./assets/images/coca-cola-lata.jpg" />
            </div>
            <div class="card__title">Coca-cola</div>
            <div class="card__description">Coca-cola em lata 350ml.</div>
            <div class="card__price">R$ 5,99</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDrinkClick(event)">
            <div class="card__img">
              <img src="./assets/images/guarana-antarctica.jpg" />
            </div>
            <div class="card__title">Guaraná Antarctica</div>
            <div class="card__description">Guaraná Antarctica em lata</div>
            <div class="card__price">R$ 5,99</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDrinkClick(event)">
            <div class="card__img">
              <img src="./assets/images/suco-de-laranja.jpeg" />
            </div>
            <div class="card__title">Suco de Laranja</div>
            <div class="card__description">
              Suco integral de laranja (500ml).
            </div>
            <div class="card__price">R$ 12,90</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDrinkClick(event)">
            <div class="card__img">
              <img src="./assets/images/Vinho-Tinto.jpg" />
            </div>
            <div class="card__title">Vinho Tinto</div>
            <div class="card__description">Vinho da casa 1L.</div>
            <div class="card__price">R$ 49,99</div>
            <img src="./assets/images/selected.svg" />
          </div>
        </div>
      </section>

      <section class="dessert">
        <h2>Por fim, sua sobremesa</h2>
        <div class="options">
          <div class="card" onclick="handlingDessertClick(event)">
            <div class="card__img">
              <img src="./assets/images/pudim 1.png" class="h-100" />
            </div>
            <div class="card__title">Pudim</div>
            <div class="card__description">
              Pudim tradicional com calda de caramelo.
            </div>
            <div class="card__price">R$ 9,99</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDessertClick(event)">
            <div class="card__img">
              <img src="./assets/images/petit-gateau.jpeg" class="h-100" />
            </div>
            <div class="card__title">Petit Gateau</div>
            <div class="card__description">
              Delicioso Petit Gateau acompanhado do sorvete de baunilha da casa.
            </div>
            <div class="card__price">R$ 15,99</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDessertClick(event)">
            <div class="card__img">
              <img src="./assets/images/crostata-de-maca.jpg" />
            </div>
            <div class="card__title">Crostata de Maçã</div>
            <div class="card__description">
              Maravilhosa sobremesa de maça com sorvete de baunilha da casa.
            </div>
            <div class="card__price">R$ 24,99</div>
            <img src="./assets/images/selected.svg" />
          </div>

          <div class="card" onclick="handlingDessertClick(event)">
            <div class="card__img">
              <img src="./assets/images/panacota.jpg" />
            </div>
            <div class="card__title">Panacota</div>
            <div class="card__description">
              Panacota tradicional com calda de frutas vermelhas.
            </div>
            <div class="card__price">R$ 19,99</div>
            <img src="./assets/images/selected.svg" />
          </div>
        </div>
      </section>
    </main>

    <div class="close-order">
      <button>Selecione os 3 itens para fechar o pedido</button>
    </div>

    <script>
      //Variables that store the chosen options.
      let mainCourse = null;
      let drink = null;
      let dessert = null;

      //Main course section pick handler.
      function handlingMainCourseClick(event) {
        const clicked = event.currentTarget;

        if (!mainCourse) {
          mainCourse = clicked;
        } else {
          mainCourse.classList.remove("card--selected");
          mainCourse = clicked;
        }

        clicked.classList.add("card--selected");
        buttonEnableToggle()
      }

      //Drink section pick handler.
      function handlingDrinkClick(event) {
        const clicked = event.currentTarget;

        if (!drink) {
          drink = clicked;
        } else {
          drink.classList.remove("card--selected");
          drink = clicked;
        }

        clicked.classList.add("card--selected");
        buttonEnableToggle()
      }

      //Dessert section pick handler.
      function handlingDessertClick(event) {
        const clicked = event.currentTarget;

        if (!dessert) {
          dessert = clicked;
        } else {
          dessert.classList.remove("card--selected");
          dessert = clicked;
        }

        clicked.classList.add("card--selected");
        buttonEnableToggle()
      }

      //Function that enables/disables the close order button.
      function buttonEnableToggle() {
        if (mainCourse && drink && dessert) {
          const closeOrder = document.querySelector(".close-order");
          closeOrder.classList.add("close-order--enabled");
          closeOrder.lastElementChild.innerHTML = "Fechar pedido";
        }
      }
    </script>
  </body>
</html>
